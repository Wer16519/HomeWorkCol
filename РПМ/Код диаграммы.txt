@startuml
' Настройки отображения
hide circle
skinparam linetype ortho

' СУЩНОСТИ

entity "Судно" {
  * id : number <<PK>>
  --
  * название : varchar
  тип : varchar
  вместимость_тонн : number
  год_постройки : year
  флаг : varchar
}

entity "Причал" {
  * id : number <<PK>>
  --
  * номер : varchar
  длина_м : number
  глубина_м : number
  статус : enum(свободен, занят, ремонт)
}

entity "Груз" {
  * id : number <<PK>>
  --
  * тип : enum(контейнер, наливной, насыпной, генеральный)
  * наименование : varchar
  вес_тонн : number
  объем_м3 : number
  отправитель : varchar
  получатель : varchar
}

entity "Клиент" {
  * id : number <<PK>>
  --
  * наименование : varchar
  тип : enum(физ_лицо, юр_лицо)
  телефон : varchar
  email : varchar
  адрес : text
}

entity "Склад" {
  * id : number <<PK>>
  --
  * номер : varchar
  тип_хранения : enum(открытый, крытый, холодильный)
  вместимость_тонн : number
  заполненность : number
}

entity "Операция" {
  * id : number <<PK>>
  --
  * тип : enum(погрузка, выгрузка, перемещение)
  * дата_начала : datetime
  дата_окончания : datetime
  статус : enum(планируется, в_процессе, завершена)
}

' СВЯЗИ

"Судно" --o{ "Операция" : "выполняет"
"Причал" --o{ "Операция" : "используется_для"
"Груз" }o-- "Операция" : "обрабатывается_в"

"Клиент" --o{ "Груз" : "заказывает_перевозку"

"Груз" }o--o{ "Склад" : "хранится_на"

' Связь многие-ко-многим через ассоциативную сущность
entity "График_заходов" {
  * id : number <<PK>>
  --
  * судно_id : number <<FK>>
  * причал_id : number <<FK>>
  планируемая_дата : date
  фактическая_дата : date
  статус : enum(по_графику, задержка, отмена)
}

"Судно" --o{ "График_заходов"
"Причал" --o{ "График_заходов"

@enduml